% This file is part of Bachelorarbeit

% Bachelorarbeit is free software: you can redistribute it and/or modify
% it under the terms of the GNU General Public License version 3 as published by
% the Free Software Foundation.

% Bachelorarbeit is distributed in the hope that it will be useful,
% but WITHOUT ANY WARRANTY; without even the implied warranty of
% MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
% GNU General Public License for more details.

% You should have received a copy of the GNU General Public License
% along with Foobar. If not, see <http://www.gnu.org/licenses/>.

\documentclass[a4paper]{article}

\usepackage{listing}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{listings}
\usepackage{tabularx}
\usepackage[utf8]{inputenc}
\usepackage[ngerman]{babel}
\usepackage{amsmath}
\usepackage{graphicx}
\usepackage[hidelinks]{hyperref}
\usepackage{pdfpages}
\usepackage{pgfplots}
\usepackage[printonlyused]{acronym}
\usepackage{setspace}
\usepackage{afterpage}
\usepackage{caption}
\usepackage{fancyhdr}
\usepackage{bytefield}
\usepackage[top=1in, bottom=1.25in, left=1.25in, right=1.25in]{geometry}
\usepackage{rotating}

% for crossing out cells. :(
% from https://tex.stackexchange.com/questions/156162/strike-out-a-table-cell
\pagestyle{empty}% for cropping
\usepackage{colortbl}
\usepackage{pgf}
\usepackage{zref-savepos}

\newcounter{NoTableEntry}
\renewcommand*{\theNoTableEntry}{NTE-\the\value{NoTableEntry}}

\newcommand*{\notableentry}{%
  \multicolumn{1}{@{}c@{}|}{%
    \stepcounter{NoTableEntry}%
    \vadjust pre{\zsavepos{\theNoTableEntry t}}% top
    \vadjust{\zsavepos{\theNoTableEntry b}}% bottom
    \zsavepos{\theNoTableEntry l}% left
    %
    \begin{pgfpicture}%
      \pgfsetlinewidth{.4pt}%
      \pgfsetstrokecolor{red}%
      \edef\llx{0sp}%
      \edef\urx{%
        \the\numexpr
          \zposx{\theNoTableEntry r}%
          -\zposx{\theNoTableEntry l}%
        \relax sp%
      }%
      \edef\lly{%
        \the\numexpr
          \zposy{\theNoTableEntry b}%
          -\zposy{\theNoTableEntry l}%
        \relax sp%
      }%
      \edef\ury{%
        \the\numexpr
          \zposy{\theNoTableEntry t}%
          -\zposy{\theNoTableEntry l}%
        \relax sp%
      }%
      \pgfpathmoveto{\pgfpoint{\llx}{\lly}}%
      \pgfpathlineto{\pgfpoint{\urx}{\ury}}%
      \pgfpathmoveto{\pgfpoint{\llx}{\ury}}%
      \pgfpathlineto{\pgfpoint{\urx}{\lly}}%
      \pgfusepath{stroke}%
      \pgfresetboundingbox
    \end{pgfpicture}%
    %
    \hspace{0pt plus 1filll}%
    \zsavepos{\theNoTableEntry r}% right
  }%
}

% End of the stuff for crossing out tables

% Stuff for hvaing a diagonal line 
% can be gotten here: https://ctan.org/tex-archive/macros/latex/contrib/slashbox
\usepackage{slashbox}

\lstset{language=C,frame=single,numbers=left,numbersep=5pt,basicstyle=\footnotesize}

% see makefile for compiling
\usepackage{csquotes}
\usepackage[backend=biber,style=alphabetic]{biblatex}
\addbibresource{bibliography.bib}

\pgfplotsset{compat=1.5}
\lstset{
breaklines=true,
literate={ö}{{\"o}}1
         {ä}{{\"a}}1
         {ü}{{\"u}}1
         {ß}{{\ss}}2
         {Ä}{{\"A}}1
         {Ü}{{\"U}}1
         {Ö}{{\"O}}1
}

% define fancy header and footer with 0.4 pt rules
\pagestyle{fancy}
\lhead{Noel Kuntze}
\chead{}
\rhead{\thepage}
\cfoot{} % get rid of the page number 
\renewcommand{\headrulewidth}{0.4pt}
\renewcommand{\footrulewidth}{0.4pt}

\setstretch{1.3}
\newcommand*\BlankPage{\newpage\null\thispagestyle{empty}\newpage}
\newcommand{\comment}[1]{}  %comment not shown
% add german translation for code listings

\renewcommand\lstlistingname{Code}
\renewcommand\lstlistlistingname{Codeverzeichnis}

\begin{document}
% disable page numbering 
\pagenumbering{gobble}

\newcommand{\me}{Noel \textsc{Kuntze}}
\newcommand{\supervisor}{Prof. Dr. D. \textsc{Westhoff}}
\newcommand{\univ}{Hochschule Offenburg}
\newcommand{\fakul}{Fakultät für Medien und Informationswesen}
\newcommand{\units}{Unternehmens- und IT-Sicherheit}
\newcommand{\besucht}{besucht am: \today}
\newcommand{\HRule}{\rule{\linewidth}{0.5mm}}
\newcommand{\newtitle}{Userspace IPsec-Processing unter Windows}

% define nice title page 
\begin{titlepage}
\center

\def\svgwidth{8.5cm}
\input{Hochschule_Offenburg-logo.pdf_tex}

\textsc{\Large \units}\\[0.5cm]
{\large UNITS (WS15/16)}\\[0.5cm]
\textsc{\large \fakul}\\[0.5cm]
\HRule \\[0.4cm]
{ \huge \bfseries \newtitle }\\[0.4cm]
\HRule \\[1.5cm]
\begin{minipage}{0.4\textwidth}
\begin{flushleft} \large
\emph{Author:}\\
\me
\end{flushleft}
\end{minipage}
\begin{minipage}{0.4\textwidth}
\begin{flushright} \large
\emph{Supervisor:} \\
\supervisor
\end{flushright}
\end{minipage}\\[4cm]
\large \today
\end{titlepage}

\BlankPage

% start nice Roman numbering in capital letters. (Use "roman" for lower case Roman numbering)
\pagenumbering{Roman}
\input{inhaltsverzeichnis.tex}
\input{abbildungsverzeichnis.tex}
\input{codeverzeichnis.tex}
\input{tabellenverzeichnis.tex}
\input{abkuerzungsverzeichnis.tex}
\BlankPage
\phantomsection

\newpage
% use arabic numbering in the actual text of the thesis
\pagenumbering{arabic}
\input{einleitung.tex}
\input{chapter1.tex}
\input{chapter2.tex}
\input{chapter3.tex}
\input{bibliographie.tex}
\input{eidesstattliche_erklaerung.tex}
\input{appendix.tex}
\end{document}
