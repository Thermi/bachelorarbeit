% This file is part of Bachelorarbeit

% Bachelorarbeit is free software: you can redistribute it and/or modify
% it under the terms of the GNU General Public License version 3 as published by
% the Free Software Foundation.

% Bachelorarbeit is distributed in the hope that it will be useful,
% but WITHOUT ANY WARRANTY; without even the implied warranty of
% MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
% GNU General Public License for more details.

% You should have received a copy of the GNU General Public License
% along with Foobar. If not, see <http://www.gnu.org/licenses/>.
\section{Implementierung}

\subsection{strongSwan}
\subsubsection{charon}
\subsubsection{Userspace processing}
\paragraph{OpenVPN TAP-Treiber}
% 255.255.255.255 Netzmaske (Prefix-Länge 32 Bit)
% Route über VPN-Adapter zu entferntem Netzwerk
% Fake ARP
% GW
% Ethernet irr. vom eigentlichen Modus
%async
\paragraph{libipsec}
libipsec ist eine Bibliothek, die IPsec im Tunnelmodus implementiert.
Sie ist Teil des strongSwan-Quellcodes. Sie wird für die Verarbeitung von IP-Paketen
in der Regel auf Systemen genutzt, die keine (funktionierenden) IPsec-Implementierung
enthalten.

libipsec besteht aus zwei Komponenten: Einerseits die Bibliothek, die die SAD und die SPD
implementiert, sowie die Verarbeitung (libipsec) und ein Plugin, welches das Empfangen und das Senden
der Pakete auf dem jeweiligen Betriebssystem implementiert (kernel-libipsec), für das strongSwan kompiliert wurde.

\subparagraph{libipsec}
\subparagraph{kernel-libipsec}
% handle_plain
% handle_esp
% callbacks
% synchronous
% IoCompletionPort inkompatibel mit synchroner I/O -> kompletter Rewrite?
% komplexe Änderungen des Verhaltens von kernel-libipsec

\subsubsection{Kernelspace processing}

